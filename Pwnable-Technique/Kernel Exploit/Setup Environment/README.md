# Setup Environment

## [0]. Kernel Source setup

- Edit /root/.gdbinit => debug sudo gdb | plugin gdb
```bash
source /home/nigmaz/Public/.gdbinit-gef.py
add-auto-load-safe-path /home/nigmaz/.gdbinit
set auto-load safe-path /
```

- Build minimal-kernel | https://gist.github.com/chrisdone/02e165a0004be33734ac2334f215380e

- kernel module: You can use insmod and rmmod to load and unload the module.

```bash
/root # ls
pwnymodule.ko.gz
/root # gzip -d pwnymodule.ko.gz
/root # ls
pwnymodule.ko
/root # insmod pwnymodule.ko
[   11.971604] pwnymodule: uiuctf{m4ster_
/root # rmmod pwnymodule.ko
/root # |
```
- As you can see, we have the first part of the flag. The last is in kernel log, use dmesg to see it.
```bash
[    0.186617] mount (31) used greatest stack 
[   11.971604] pwnymodule: uiuctf{m4ster_
[   16.441557] pwnymodule: k3rNE1_haCk3r}
/root # |
```
